<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</title>

<style>
body{font-family:Tahoma;background:#f1f5f9;margin:0}
header{background:#0f172a;color:#fff;padding:12px;text-align:center}
.box{background:#fff;margin:10px;padding:12px;border-radius:12px}
.total{font-size:18px;font-weight:bold;margin-top:6px}
</style>
</head>

<body>

<header>ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø£Ø±Ø¨Ø§Ø­</header>

<div class="box">
<h3>ğŸ“… ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…</h3>
<div id="today"></div>
</div>

<div class="box">
<h3>ğŸ“† ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±</h3>
<div id="month"></div>
</div>

<script>
let invoices = JSON.parse(localStorage.invoices || "[]");

function calc(filterFn){
let f = invoices.filter(filterFn);
let total = f.reduce((a,i)=>a+i.total,0);
let profit = f.reduce((a,i)=>a+i.profit,0);
return {count:f.length,total,profit};
}

let todayStr = new Date().toISOString().slice(0,10);
let monthStr = new Date().toISOString().slice(0,7);

let today = calc(i=>i.date.startsWith(todayStr));
let month = calc(i=>i.date.startsWith(monthStr));

todayDiv.innerHTML = `
Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±: ${today.count}<br>
Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: ${today.total}<br>
Ø§Ù„Ø±Ø¨Ø­: ${today.profit}
`;

monthDiv.innerHTML = `
Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±: ${month.count}<br>
Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: ${month.total}<br>
Ø§Ù„Ø±Ø¨Ø­: ${month.profit}
`;
</script>

</body>
</html>
