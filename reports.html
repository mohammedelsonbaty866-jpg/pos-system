<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø£Ø±Ø¨Ø§Ø­</title>

<style>
body{
  margin:0;
  font-family:Tahoma, Arial;
  background:#f2f4f8;
}
header{
  background:#198754;
  color:#fff;
  padding:12px;
  text-align:center;
  font-size:20px;
}
.container{
  padding:15px;
  max-width:700px;
  margin:auto;
}
.card{
  background:#fff;
  border-radius:10px;
  padding:15px;
  margin-bottom:15px;
  box-shadow:0 0 10px rgba(0,0,0,.1);
}
.stat{
  display:flex;
  justify-content:space-between;
  padding:10px;
  border-bottom:1px solid #eee;
  font-size:16px;
}
.stat:last-child{border-bottom:none}
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  border-bottom:1px solid #ddd;
  padding:8px;
  text-align:center;
}
th{
  background:#f0f0f0;
}
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  background:#0d6efd;
  color:#fff;
  font-size:18px;
  cursor:pointer;
  margin-top:10px;
}
.back{
  display:block;
  text-align:center;
  background:#6c757d;
  color:#fff;
  padding:10px;
  border-radius:8px;
  text-decoration:none;
  margin-top:10px;
}
@media print{
  button,.back{display:none}
}
</style>
</head>

<body>

<header>ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø£Ø±Ø¨Ø§Ø­</header>

<div class="container">

  <!-- Ù…Ù„Ø®Øµ Ø§Ù„ÙŠÙˆÙ… -->
  <div class="card">
    <h3>ğŸ“Œ Ù…Ù„Ø®Øµ Ø§Ù„ÙŠÙˆÙ…</h3>
    <div class="stat">
      <span>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</span>
      <b id="invCount">0</b>
    </div>
    <div class="stat">
      <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</span>
      <b id="totalSales">0</b>
    </div>
    <div class="stat">
      <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</span>
      <b id="totalProfit">0</b>
    </div>
  </div>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙÙˆØ§ØªÙŠØ± -->
  <div class="card">
    <h3 style="text-align:center">ğŸ§¾ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h3>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
          <th>Ø§Ù„Ù†ÙˆØ¹</th>
          <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
          <th>Ø§Ù„Ø±Ø¨Ø­</th>
        </tr>
      </thead>
      <tbody id="invoiceTable"></tbody>
    </table>

    <button onclick="printReport()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
  </div>

  <a href="index.html" class="back">â¬…ï¸ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙƒØ§Ø´ÙŠØ±</a>

</div>

<script>
let invoices = JSON.parse(localStorage.getItem("invoices")) || [];

let invCount = invoices.length;
let totalSales = 0;
let totalProfit = 0;

const table = document.getElementById("invoiceTable");

invoices.forEach((inv,i)=>{
  totalSales += inv.total;
  totalProfit += inv.profit;

  table.innerHTML += `
    <tr>
      <td>${i+1}</td>
      <td>${inv.date}</td>
      <td>${inv.type === "cash" ? "Ù†Ù‚Ø¯ÙŠ" : "Ø¢Ø¬Ù„"}</td>
      <td>${inv.total}</td>
      <td>${inv.profit}</td>
    </tr>
  `;
});

document.getElementById("invCount").innerText = invCount;
document.getElementById("totalSales").innerText = totalSales;
document.getElementById("totalProfit").innerText = totalProfit;

function printReport(){
  window.print();
}
</script>

</body>
</html>
