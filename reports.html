<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</title>

<link rel="stylesheet" href="style.css">

<style>
body{
  margin:0;
  font-family:Tahoma;
  background:#f1f5f9;
}
header{
  background:#020617;
  color:#fff;
  padding:12px;
  text-align:center;
  font-size:18px;
}
.container{padding:10px}
.card{
  background:#fff;
  padding:15px;
  border-radius:12px;
  margin-bottom:10px;
  box-shadow:0 3px 8px rgba(0,0,0,.08)
}
button{
  padding:10px;
  border:0;
  border-radius:8px;
  cursor:pointer;
  font-size:14px;
  background:#22c55e;
  color:#fff;
}
input,select{
  padding:8px;
  border-radius:8px;
  border:1px solid #cbd5f5;
}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  border-radius:12px;
  overflow:hidden;
}
th,td{
  padding:8px;
  border-bottom:1px solid #e5e7eb;
  font-size:13px;
  text-align:center;
}
th{
  background:#020617;
  color:#fff;
}
.summary{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:8px;
  margin-top:10px;
}
.box{
  background:#f8fafc;
  padding:10px;
  border-radius:10px;
  text-align:center;
  font-weight:bold;
}
@media print{
  button,input,select{display:none}
}
</style>
</head>

<body>

<header>ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</header>

<div class="container">

<div class="card">
  <h3>ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ</h3>
  <button onclick="daily()">Ø¹Ø±Ø¶ Ø§Ù„ÙŠÙˆÙ…</button>
</div>

<div class="card">
  <h3>ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ</h3>
  <select id="month">
    <option value="1">ÙŠÙ†Ø§ÙŠØ±</option><option value="2">ÙØ¨Ø±Ø§ÙŠØ±</option>
    <option value="3">Ù…Ø§Ø±Ø³</option><option value="4">Ø£Ø¨Ø±ÙŠÙ„</option>
    <option value="5">Ù…Ø§ÙŠÙˆ</option><option value="6">ÙŠÙˆÙ†ÙŠÙˆ</option>
    <option value="7">ÙŠÙˆÙ„ÙŠÙˆ</option><option value="8">Ø£ØºØ³Ø·Ø³</option>
    <option value="9">Ø³Ø¨ØªÙ…Ø¨Ø±</option><option value="10">Ø£ÙƒØªÙˆØ¨Ø±</option>
    <option value="11">Ù†ÙˆÙÙ…Ø¨Ø±</option><option value="12">Ø¯ÙŠØ³Ù…Ø¨Ø±</option>
  </select>
  <input id="year" type="number" placeholder="Ø§Ù„Ø³Ù†Ø©">
  <button onclick="monthly()">Ø¹Ø±Ø¶</button>
</div>

<div class="card" id="result"></div>

</div>

<script src="core.js"></script>

<script>
function daily(){
  const r = dailyReport();
  showReport("ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ",r.list,r);
}

function monthly(){
  if(!month.value || !year.value) return;
  const r = monthlyReport(+month.value,+year.value);
  showReport("ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ",r.list,r);
}

function showReport(title,list,summary){
  let html = `<h3>${title}</h3>`;

  html += `
  <div class="summary">
    <div class="box">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±<br>${summary.count||list.length}</div>
    <div class="box">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª<br>${summary.total||summary.total}</div>
    <div class="box">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­<br>${summary.profit||summary.profit}</div>
  </div>
  `;

  html += `
  <table>
    <thead>
      <tr>
        <th>Ø±Ù‚Ù…</th>
        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
        <th>Ø§Ù„Ø¯ÙØ¹</th>
        <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
        <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
        <th>Ø§Ù„Ø±Ø¨Ø­</th>
      </tr>
    </thead>
    <tbody>
  `;

  list.forEach(i=>{
    html+=`
    <tr>
      <td>${i.id}</td>
      <td>${i.date}</td>
      <td>${i.type==="cash"?"Ù†Ù‚Ø¯ÙŠ":"Ø¢Ø¬Ù„"}</td>
      <td>${i.customer||"-"}</td>
      <td>${i.total}</td>
      <td>${i.profit}</td>
    </tr>`;
  });

  html += `</tbody></table>
  <button onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
  `;

  result.innerHTML = html;
}
</script>

</body>
</html>
