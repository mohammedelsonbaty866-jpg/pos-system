<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</title>
<link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>

<script src="../core/storage.js"></script>
<script src="../core/auth-guard.js"></script>
<script src="../core/invoices.js"></script>
<script src="../core/reports.js"></script>

<h1>ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h1>

<div class="report-box">

  <h3>ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ</h3>
  <input type="date" id="day">
  <button onclick="daily()">Ø¹Ø±Ø¶</button>

  <h3>ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ</h3>
  <input type="month" id="month">
  <button onclick="monthly()">Ø¹Ø±Ø¶</button>

  <h3>ØªÙ‚Ø±ÙŠØ± Ø³Ù†ÙˆÙŠ</h3>
  <input type="number" id="year" placeholder="2025">
  <button onclick="yearly()">Ø¹Ø±Ø¶</button>

</div>

<div id="result" class="report-result"></div>

<script>
function show(r){
  result.innerHTML = `
    <p>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±: ${r.count}</p>
    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: ${r.total} Ø¬</p>
    <p>Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ù‹Ø§: ${r.bestItem}</p>
  `;
}

function daily(){
  show(Reports.daily(day.value));
}

function monthly(){
  const [y,m] = month.value.split("-");
  show(Reports.monthly(y,m));
}

function yearly(){
  show(Reports.yearly(year.value));
}
</script>

</body>
</html>
