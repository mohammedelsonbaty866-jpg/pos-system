<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>POS System | Ù†Ø¸Ø§Ù… ÙƒØ§Ø´ÙŠØ±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- CSS -->
  <link rel="stylesheet" href="assets/css/cashier.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="pos-header">
  <div class="logo">ğŸ§¾ POS</div>
  <div class="user-info">
    <span id="username">ÙƒØ§Ø´ÙŠØ±</span>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="pos-container">

  <!-- ===== PRODUCTS SECTION ===== -->
  <section class="products" id="productsGrid">
    <!-- Ù…Ù†ØªØ¬Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© (Ù‡ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒ Ù…Ù† JS) -->
    <div class="product" onclick="addToCart('Ø³ÙƒØ±', 10)">Ø³ÙƒØ±<br><small>10 Ø¬Ù†ÙŠÙ‡</small></div>
    <div class="product" onclick="addToCart('Ø±Ø²', 12)">Ø±Ø²<br><small>12 Ø¬Ù†ÙŠÙ‡</small></div>
    <div class="product" onclick="addToCart('Ø²ÙŠØª', 25)">Ø²ÙŠØª<br><small>25 Ø¬Ù†ÙŠÙ‡</small></div>
    <div class="product" onclick="addToCart('Ù…ÙƒØ±ÙˆÙ†Ø©', 8)">Ù…ÙƒØ±ÙˆÙ†Ø©<br><small>8 Ø¬Ù†ÙŠÙ‡</small></div>
  </section>

  <!-- ===== INVOICE SECTION ===== -->
  <aside class="invoice">

    <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø© -->
    <div class="invoice-items" id="invoiceItems">
      <!-- items -->
    </div>

    <!-- Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ -->
    <div class="invoice-total" id="totalBox">
      Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total">0</span> Ø¬Ù†ÙŠÙ‡
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø«Ø§Ø¨ØªØ© -->
    <div class="invoice-actions">
      <button class="btn save" onclick="saveInvoice()">ğŸ’¾ Ø­ÙØ¸</button>
      <button class="btn print" onclick="printInvoice()">ğŸ–¨ Ø·Ø¨Ø§Ø¹Ø©</button>
    </div>

  </aside>

</main>

<!-- ================= JS ================= -->
<script>
/* ====== CART DATA ====== */
let cart = [];
let total = 0;

/* ====== ADD TO CART ====== */
function addToCart(name, price) {
  cart.push({ name, price });
  total += price;
  renderInvoice();
}

/* ====== RENDER INVOICE ====== */
function renderInvoice() {
  const box = document.getElementById("invoiceItems");
  box.innerHTML = "";

  cart.forEach((item, index) => {
    box.innerHTML += `
      <div class="invoice-item">
        ${item.name} - ${item.price} Ø¬
      </div>
    `;
  });

  document.getElementById("total").innerText = total;
}

/* ====== SAVE INVOICE ====== */
function saveInvoice() {
  if (cart.length === 0) {
    alert("Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙØ§Ø¶ÙŠØ©");
    return;
  }

  const invoices = JSON.parse(localStorage.getItem("invoices") || "[]");

  invoices.push({
    date: new Date().toLocaleString(),
    items: cart,
    total: total
  });

  localStorage.setItem("invoices", JSON.stringify(invoices));

  cart = [];
  total = 0;
  renderInvoice();

  alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­");
}

/* ====== PRINT ====== */
function printInvoice() {
  if (cart.length === 0) {
    alert("Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ§ØªÙˆØ±Ø© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©");
    return;
  }
  window.print();
}
</script>

</body>
</html>
